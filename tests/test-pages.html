<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITM Lab - Test Suite</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-result {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid;
        }
        .success { background: #d4edda; border-color: #28a745; color: #155724; }
        .error { background: #f8d7da; border-color: #dc3545; color: #721c24; }
        .warning { background: #fff3cd; border-color: #ffc107; color: #856404; }
        h1 { color: #333; }
        button {
            background: #ff6b35;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #e55a2b; }
    </style>
</head>
<body>
    <h1>üß™ ITM Lab - Test Suite</h1>
    <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞</p>

    <button onclick="runAllTests()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã</button>
    <button onclick="clearResults()">–û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>

    <div id="test-results"></div>

    <script>
        const pages = [
            'index.html',
            'index.kz.html',
            'winners.html',
            'winners.kz.html',
            'accessible-index.html',
            'accessible-index.kz.html',
            'accessible-winners.html',
            'accessible-winners.kz.html'
        ];

        function addResult(message, type = 'success') {
            const results = document.getElementById('test-results');
            const div = document.createElement('div');
            div.className = `test-result ${type}`;
            div.textContent = message;
            results.appendChild(div);
        }

        function clearResults() {
            document.getElementById('test-results').innerHTML = '';
        }

        async function testPageLoad(page) {
            try {
                const response = await fetch(page);
                if (!response.ok) {
                    addResult(`‚ùå ${page}: –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ (${response.status})`, 'error');
                    return false;
                }

                const text = await response.text();
                const contentLength = text.length;

                // –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
                if (contentLength < 1000) {
                    addResult(`‚ö†Ô∏è ${page}: –°–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π —Ñ–∞–π–ª (${contentLength} —Å–∏–º–≤–æ–ª–æ–≤)`, 'warning');
                    return false;
                }

                if (text.includes('background: #fff') && text.includes('<body>') && text.includes('</body>') && !text.includes('<div') && !text.includes('<p')) {
                    addResult(`‚ùå ${page}: –û–±–Ω–∞—Ä—É–∂–µ–Ω –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω`, 'error');
                    return false;
                }

                if (!text.includes('<!DOCTYPE html>')) {
                    addResult(`‚ùå ${page}: –ù–µ—Ç DOCTYPE`, 'error');
                    return false;
                }

                if (!text.includes('<html')) {
                    addResult(`‚ùå ${page}: –ù–µ—Ç HTML —Ç–µ–≥–∞`, 'error');
                    return false;
                }

                if (!text.includes('<body>')) {
                    addResult(`‚ùå ${page}: –ù–µ—Ç BODY —Ç–µ–≥–∞`, 'error');
                    return false;
                }

                if (!text.includes('</html>')) {
                    addResult(`‚ùå ${page}: –ù–µ—Ç –∑–∞–∫—Ä—ã–≤–∞—é—â–µ–≥–æ HTML —Ç–µ–≥–∞`, 'error');
                    return false;
                }

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤–æ–∫—Ä—É–≥ –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                if (text.trim().startsWith('<!--') && text.trim().endsWith('-->')) {
                    addResult(`‚ùå ${page}: –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω`, 'error');
                    return false;
                }

                addResult(`‚úÖ ${page}: OK (${contentLength} —Å–∏–º–≤–æ–ª–æ–≤)`);
                return true;

            } catch (error) {
                addResult(`‚ùå ${page}: –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ - ${error.message}`, 'error');
                return false;
            }
        }

        async function testModalFlow() {
            try {
                const response = await fetch('scripts/modal-flow.js');
                if (!response.ok) {
                    addResult('‚ùå modal-flow.js: –ù–µ –Ω–∞–π–¥–µ–Ω', 'error');
                    return false;
                }

                const text = await response.text();
                if (text.length < 100) {
                    addResult('‚ö†Ô∏è modal-flow.js: –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π', 'warning');
                    return false;
                }

                if (text.includes('<!--') && text.includes('-->') && text.replace(/<!--[\s\S]*?-->/g, '').trim().length < 50) {
                    addResult('‚ùå modal-flow.js: –í–µ—Å—å –∫–æ–¥ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω', 'error');
                    return false;
                }

                addResult('‚úÖ modal-flow.js: OK');
                return true;

            } catch (error) {
                addResult(`‚ùå modal-flow.js: –û—à–∏–±–∫–∞ - ${error.message}`, 'error');
                return false;
            }
        }

        async function testStyles() {
            try {
                const response = await fetch('styles.css');
                if (!response.ok) {
                    addResult('‚ö†Ô∏è styles.css: –ù–µ –Ω–∞–π–¥–µ–Ω (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ)', 'warning');
                    return true;
                }

                const text = await response.text();
                if (text.length < 1000) {
                    addResult('‚ö†Ô∏è styles.css: –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π', 'warning');
                    return false;
                }

                addResult('‚úÖ styles.css: OK');
                return true;

            } catch (error) {
                addResult(`‚ùå styles.css: –û—à–∏–±–∫–∞ - ${error.message}`, 'error');
                return false;
            }
        }

        async function runAllTests() {
            clearResults();
            addResult('üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤...', 'success');

            let passed = 0;
            let total = 0;

            // –¢–µ—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü
            for (const page of pages) {
                total++;
                if (await testPageLoad(page)) passed++;
            }

            // –¢–µ—Å—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤
            total++;
            if (await testModalFlow()) passed++;

            // –¢–µ—Å—Ç —Å—Ç–∏–ª–µ–π
            total++;
            if (await testStyles()) passed++;

            // –ò—Ç–æ–≥–∏
            const percentage = Math.round((passed / total) * 100);
            const resultType = percentage === 100 ? 'success' : percentage >= 80 ? 'warning' : 'error';
            addResult(`üìä –†–µ–∑—É–ª—å—Ç–∞—Ç: ${passed}/${total} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ (${percentage}%)`, resultType);
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = () => {
            setTimeout(runAllTests, 500);
        };
    </script>
</body>
</html></content>
</xai:function_call name="Write">
<parameter name="path">tests/README.md